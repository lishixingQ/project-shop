{"version":3,"file":"js/656.80a641f4.js","mappings":"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","sources":["webpack://project-shop/./src/components/goods/List.vue","webpack://project-shop/src/components/goods/List.vue","webpack://project-shop/./src/components/goods/List.vue?4646","webpack://project-shop/./src/components/goods/List.vue?784f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品列表\")])],1),_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.findAllData},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getShopListData},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goAddShop}},[_vm._v(\"添加商品\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.shopListData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_name\",\"label\":\"商品名称\",\"width\":\"350px\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_price\",\"label\":\"商品价格(元)\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_weight\",\"label\":\"商品重量\"}}),_c('el-table-column',{attrs:{\"prop\":\"add_time\",\"label\":\"创建时间\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteShop(scope.row.goods_id)}}})]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[5, 10, 15, 20],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total,\"background\":\"\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n            <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n            <el-breadcrumb-item>商品列表</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n\r\n        <el-card>\r\n            <!-- 搜索框&添加用户按钮 -->\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"8\">\r\n                    <el-input placeholder=\"请输入内容\" v-model=\"queryInfo.query\" clearable @clear=\"findAllData\">\r\n                        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getShopListData\"></el-button>\r\n\r\n                    </el-input>\r\n                </el-col>\r\n                <el-col :span=\"4\">\r\n                    <el-button type=\"primary\" @click=\"goAddShop\">添加商品</el-button>\r\n                </el-col>\r\n            </el-row>\r\n\r\n            <!-- 商品表格数据 -->\r\n            <el-table :data=\"shopListData\" style=\"width: 100%\" border stripe>\r\n                <el-table-column type=\"index\"></el-table-column>\r\n                <el-table-column prop=\"goods_name\" label=\"商品名称\" width=\"350px\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"goods_price\" label=\"商品价格(元)\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"goods_weight\" label=\"商品重量\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"add_time\" label=\"创建时间\">\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" width=\"180px\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\"></el-button>\r\n                        <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"\r\n                            @click=\"deleteShop(scope.row.goods_id)\"></el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n\r\n            <!-- 分页器 -->\r\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n                :current-page=\"queryInfo.pagenum\" :page-sizes=\"[5, 10, 15, 20]\" :page-size=\"queryInfo.pagesize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\" background>\r\n            </el-pagination>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            // 添加商品参数\r\n            queryInfo: {\r\n                query: '',\r\n                pagenum: 1,\r\n                pagesize: 10\r\n            },\r\n            // 商品列表数据\r\n            shopListData: [],\r\n            // 商品总数\r\n            total: 0,\r\n        };\r\n    },\r\n    methods: {\r\n        // 清空input框内容时触发函数重新调用商品列表\r\n        findAllData() {\r\n            this.getShopListData()\r\n        },\r\n        // 添加商品\r\n        goAddShop() {\r\n            this.$router.push('/add')\r\n        },\r\n        // 请求商品列表数据\r\n        async getShopListData() {\r\n            const { data: result } = await this.$axios.get('goods', { params: this.queryInfo })\r\n            if (result.meta.status != 200) {\r\n                return this.$message.error('获取商品列表失败!')\r\n            }\r\n\r\n            this.shopListData = result.data.goods\r\n            this.total = result.data.total\r\n        },\r\n        // 分页器监听每页显示几条数据\r\n        handleSizeChange(newSize) {\r\n            this.queryInfo.pagesize = newSize\r\n            this.getShopListData()\r\n        },\r\n        // 分页器监听当前页码数\r\n        handleCurrentChange(newPage) {\r\n            this.queryInfo.pagenum = newPage\r\n            this.getShopListData()\r\n        },\r\n        // 删除商品\r\n        async deleteShop(goodsId) {\r\n            const confirmResult = await this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).catch(error => error)\r\n\r\n            // console.log(confirmResult);\r\n            if (confirmResult == 'confirm') {\r\n                const { data: result } = await this.$axios.delete(`goods/${goodsId}`)\r\n                // console.log(result);\r\n                if (result.meta.status != 200) {\r\n                    return this.$message.error('删除商品失败!')\r\n                }\r\n\r\n                this.$message.success('删除商品成功!')\r\n                this.getShopListData()\r\n\r\n\r\n            } else {\r\n                this.$message('已取消删除!')\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getShopListData()\r\n    },\r\n    components: {\r\n\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\"></style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=c8567fee&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8567fee\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","path","_v","on","findAllData","model","value","queryInfo","query","callback","$$v","$set","expression","getShopListData","slot","goAddShop","staticStyle","shopListData","scopedSlots","_u","key","fn","scope","$event","deleteShop","row","goods_id","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","staticRenderFns","props","data","methods","$router","push","result","$axios","get","params","meta","status","$message","error","goods","newSize","newPage","goodsId","confirmResult","$confirm","confirmButtonText","cancelButtonText","type","catch","delete","success","mounted","components","component"],"sourceRoot":""}