{"version":3,"file":"js/814.9b22d48d.js","mappings":"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","sources":["webpack://project-shop/./src/components/goods/Cate.vue","webpack://project-shop/src/components/goods/Cate.vue","webpack://project-shop/./src/components/goods/Cate.vue?7e22","webpack://project-shop/./src/components/goods/Cate.vue?980e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品分类\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addClassify}},[_vm._v(\"添加分类\")]),_c('tree-table',{staticClass:\"treeTable\",attrs:{\"data\":_vm.cateListData,\"columns\":_vm.columns,\"show-index\":\"\",\"selection-type\":false,\"expand-type\":false,\"index-text\":\"#\",\"border\":\"\",\"show-row-hover\":false},scopedSlots:_vm._u([{key:\"isOk\",fn:function(scope){return [(scope.row.cat_deleted === false)?_c('i',{staticClass:\"el-icon-success\",staticStyle:{\"color\":\"forestgreen\"}}):_c('i',{staticClass:\"el-icon-error\",staticStyle:{\"color\":\"red\"}})]}},{key:\"level\",fn:function(scope){return [(scope.row.cat_level == 0)?_c('el-tag',{attrs:{\"size\":\"mini\"}},[_vm._v(\"一级\")]):(scope.row.cat_level == 1)?_c('el-tag',{attrs:{\"type\":\"success\",\"size\":\"mini\"}},[_vm._v(\"二级\")]):_c('el-tag',{attrs:{\"type\":\"warning\",\"size\":\"mini\"}},[_vm._v(\"三级\")])]}},{key:\"action\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.editCate(scope.row.cat_id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteCate(scope.row.cat_id)}}},[_vm._v(\"删除\")])]}}])}),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[3, 5, 10, 15],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加分类\",\"visible\":_vm.addDialog,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.addDialog=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addClassifyRef\",attrs:{\"model\":_vm.addClassifyForm,\"rules\":_vm.addClassifyrules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类名称：\",\"prop\":\"cat_name\"}},[_c('el-input',{model:{value:(_vm.addClassifyForm.cat_name),callback:function ($$v) {_vm.$set(_vm.addClassifyForm, \"cat_name\", $$v)},expression:\"addClassifyForm.cat_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"父级分类：\"}},[_c('el-cascader',{attrs:{\"options\":_vm.parentCateList,\"props\":_vm.parentCateListProps,\"clearable\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.selectedKeys),callback:function ($$v) {_vm.selectedKeys=$$v},expression:\"selectedKeys\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialog = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmAddCate}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改分类\",\"visible\":_vm.setDialog,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.setDialog=$event}}},[_c('el-form',{ref:\"setClassifyRef\",attrs:{\"model\":_vm.setClassifyForm,\"rules\":_vm.setClassifyRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"cat_name\"}},[_c('el-input',{model:{value:(_vm.setClassifyForm.cat_name),callback:function ($$v) {_vm.$set(_vm.setClassifyForm, \"cat_name\", $$v)},expression:\"setClassifyForm.cat_name\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setDialog = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmSetCate}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n            <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n            <el-breadcrumb-item>商品分类</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n\r\n        <!-- 卡片视图区域 -->\r\n        <el-card class=\"box-card\">\r\n            <!-- 添加分类按钮 -->\r\n            <el-button type=\"primary\" @click=\"addClassify\">添加分类</el-button>\r\n\r\n            <tree-table class=\"treeTable\" :data=\"cateListData\" :columns=\"columns\" show-index :selection-type=\"false\"\r\n                :expand-type=\"false\" index-text=\"#\" border :show-row-hover=\"false\">\r\n                <!-- 是否有效 -->\r\n                <template slot=\"isOk\" slot-scope=\"scope\">\r\n\r\n                    <i class=\"el-icon-success\" v-if=\"scope.row.cat_deleted === false\" style=\"color: forestgreen;\"></i>\r\n                    <i class=\"el-icon-error\" v-else style=\"color: red;\"></i>\r\n                </template>\r\n\r\n                <!-- 排序 -->\r\n                <template slot=\"level\" slot-scope=\"scope\">\r\n                    <el-tag size=\"mini\" v-if=\"scope.row.cat_level == 0\">一级</el-tag>\r\n                    <el-tag type=\"success\" size=\"mini\" v-else-if=\"scope.row.cat_level == 1\">二级</el-tag>\r\n                    <el-tag type=\"warning\" size=\"mini\" v-else>三级</el-tag>\r\n                </template>\r\n\r\n                <!-- 操作 -->\r\n                <template slot=\"action\" slot-scope=\"scope\">\r\n                    <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\"\r\n                        @click=\"editCate(scope.row.cat_id)\">编辑</el-button>\r\n                    <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\"\r\n                        @click=\"deleteCate(scope.row.cat_id)\">删除</el-button>\r\n                </template>\r\n            </tree-table>\r\n\r\n            <!-- 分页器 -->\r\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n                :current-page=\"queryInfo.pagenum\" :page-sizes=\"[3, 5, 10, 15]\" :page-size=\"queryInfo.pagesize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n            </el-pagination>\r\n        </el-card>\r\n\r\n        <!-- 添加分类的消息对话框 -->\r\n        <el-dialog title=\"添加分类\" :visible.sync=\"addDialog\" width=\"30%\" @close=\"addDialogClosed\">\r\n            <el-form :model=\"addClassifyForm\" :rules=\"addClassifyrules\" ref=\"addClassifyRef\" label-width=\"100px\">\r\n                <el-form-item label=\"分类名称：\" prop=\"cat_name\">\r\n                    <el-input v-model=\"addClassifyForm.cat_name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"父级分类：\">\r\n                    <el-cascader v-model=\"selectedKeys\" :options=\"parentCateList\" :props=\"parentCateListProps\"\r\n                        @change=\"handleChange\" clearable></el-cascader>\r\n                </el-form-item>\r\n\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addDialog = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"confirmAddCate\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <!-- 修改分类的消息对话框 -->\r\n        <el-dialog title=\"修改分类\" :visible.sync=\"setDialog\" width=\"30%\">\r\n            <el-form :model=\"setClassifyForm\" :rules=\"setClassifyRules\" ref=\"setClassifyRef\" label-width=\"100px\">\r\n                <el-form-item label=\"分类名称\" prop=\"cat_name\">\r\n                    <el-input v-model=\"setClassifyForm.cat_name\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"setDialog = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"confirmSetCate\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            queryInfo: {\r\n                type: 3,\r\n                pagenum: 1,\r\n                pagesize: 5\r\n            },\r\n            // 商品分类数据列表\r\n            cateListData: [],\r\n            // 数据总数\r\n            total: 0,\r\n            // 商品分类列表的每一列\r\n            columns: [\r\n                {\r\n                    label: '分类名称',\r\n                    prop: 'cat_name',\r\n                    minWidth: '210px'\r\n                },\r\n                {\r\n                    label: '是否有效',\r\n                    type: 'template',\r\n                    template: 'isOk',\r\n                    minWidth: '200px'\r\n                },\r\n                {\r\n                    label: '排序',\r\n                    type: 'template',\r\n                    template: 'level',\r\n                    minWidth: '200px'\r\n                },\r\n                {\r\n                    label: '操作',\r\n                    type: 'template',\r\n                    template: 'action',\r\n                    minWidth: '200px'\r\n                }\r\n            ],\r\n            // 添加分类的消息对话框的显示与隐藏\r\n            addDialog: false,\r\n            // 添加分类表单\r\n            addClassifyForm: {\r\n                cat_name: '',\r\n                cat_pid: 0,\r\n                cat_level: 0\r\n            },\r\n            addClassifyrules: {\r\n                cat_name: [\r\n                    { required: true, message: '请输入分类名称', trigger: 'blur' },\r\n                ]\r\n            },\r\n            // 父级分类列表\r\n            parentCateList: [],\r\n            // 父级分类id数组\r\n            selectedKeys: [],\r\n            // 级联分类列表数据配置项\r\n            parentCateListProps: {\r\n                expandTrigger: 'hover',\r\n                value: 'cat_id',\r\n                label: 'cat_name',\r\n                children: 'children',\r\n                checkStrictly: true\r\n            },\r\n            // 修改分类的消息对话框的显示与隐藏\r\n            setDialog: false,\r\n            // 修改分类表单\r\n            setClassifyForm: {},\r\n            // 修改分类表单验证规则\r\n            setClassifyRules: {\r\n                cat_name: [\r\n                    { required: true, message: '请输入分类名称', trigger: 'blur' },\r\n                ]\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        // 获取商品分类列表数据\r\n        async getCateListData() {\r\n            const { data: result } = await this.$axios.get('categories', { params: this.queryInfo })\r\n            if (result.meta.status != 200) {\r\n                return this.$message.error('获取商品分类列表数据失败！')\r\n            }\r\n            this.getParentCateList()\r\n            // console.log(result);\r\n            this.cateListData = result.data.result\r\n            this.total = result.data.total\r\n        },\r\n        // 监听pageSize属性\r\n        handleSizeChange(newSize) {\r\n            this.queryInfo.pagesize = newSize\r\n            this.getCateListData()\r\n        },\r\n        // 监听pegeNum属性\r\n        handleCurrentChange(newNum) {\r\n            this.queryInfo.pagenum = newNum\r\n            this.getCateListData()\r\n        },\r\n        // 点击按钮添加分类对话框显示\r\n        async addClassify() {\r\n\r\n\r\n            this.addDialog = true\r\n        },\r\n        // 添加分类对话框关闭\r\n        addDialogClosed() {\r\n            this.$refs.addClassifyRef.resetFields()\r\n            this.selectedKeys = []\r\n            this.addClassifyForm.cat_pid = 0\r\n            this.addClassifyForm.cat_level = 0\r\n        },\r\n        // 监听级联分类列表变化时触发\r\n        handleChange() {\r\n            // console.log(this.selectedKeys);\r\n            if (this.selectedKeys.length > 0) {\r\n                this.addClassifyForm.cat_pid = this.selectedKeys[this.selectedKeys.length - 1]\r\n\r\n                this.addClassifyForm.cat_level = this.selectedKeys.length\r\n            } else {\r\n                this.addClassifyForm.cat_pid = 0\r\n\r\n                this.addClassifyForm.cat_level = 0\r\n            }\r\n        },\r\n        // 获取父级分类数据列表\r\n        async getParentCateList() {\r\n            const { data: result } = await this.$axios.get('categories', { params: { type: 2 } })\r\n            // console.log(result);\r\n            if (result.meta.status != 200) {\r\n                return this.$message.error('获取父级分类列表失败！')\r\n            }\r\n\r\n            this.parentCateList = result.data\r\n\r\n            // console.log(this.parentCateList);\r\n        },\r\n        // 确定添加分类\r\n        confirmAddCate() {\r\n            // console.log(this.addClassifyForm);\r\n\r\n            this.$refs.addClassifyRef.validate(async (valid) => {\r\n                if (valid) {\r\n                    const { data: result } = await this.$axios.post('categories', this.addClassifyForm)\r\n\r\n                    // console.log(result);\r\n                    if (result.meta.status != 201) {\r\n                        this.addDialog = false\r\n                        return this.$message.error('添加分类失败！')\r\n                    }\r\n\r\n                    this.$message.success('添加分类成功！')\r\n                    this.getCateListData()\r\n                    this.addDialog = false\r\n                } else {\r\n                    return this.$message.error('请输入分类名称！');\r\n                }\r\n            });\r\n\r\n        },\r\n        // 编辑（修改）分类\r\n        async editCate(cateId) {\r\n            this.setDialog = true\r\n            const { data: result } = await this.$axios.get(`categories/${cateId}`)\r\n            if (result.meta.status != 200) {\r\n                return this.$message.error('获取分类名称失败！')\r\n            }\r\n\r\n            this.$message.success('获取分类名称成功！')\r\n            this.setClassifyForm = result.data\r\n        },\r\n        // 确认修改分类\r\n        confirmSetCate() {\r\n            this.$refs.setClassifyRef.validate(async valid => {\r\n                if (!valid) return this.$message.error('请输入正确的分类名称！')\r\n                const { data: result } = await this.$axios.put(`categories/${this.setClassifyForm.cat_id}`, {\r\n                    cat_name: this.setClassifyForm.cat_name\r\n                })\r\n                // console.log(result);\r\n                if (result.meta.status != 200) {\r\n                    return this.$message.error('修改分类失败！')\r\n                }\r\n                this.$message.success('修改分类成功！')\r\n                this.getCateListData()\r\n                this.setDialog = false\r\n            })\r\n        },\r\n        // 删除商品分类\r\n        async deleteCate(cateId) {\r\n            const confirmResult = await this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).catch(error => error)\r\n            // console.log(confirmResult);\r\n            if (confirmResult == 'cancel') {\r\n                this.$message('已取消删除！')\r\n            } else {\r\n                const { data: result } = await this.$axios.delete(`categories/${cateId}`)\r\n                // console.log(result);\r\n                if (result.meta.status != 200) {\r\n                    return this.$message.error('删除分类失败！')\r\n                }\r\n\r\n                this.$message.success('删除分类成功！')\r\n                this.getCateListData()\r\n            }\r\n        },\r\n    },\r\n    mounted() {\r\n        this.getCateListData()\r\n    },\r\n    components: {\r\n\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.treeTable {\r\n    margin-top: 15px;\r\n}\r\n\r\n.el-cascader {\r\n    width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cate.vue?vue&type=template&id=268c0dbe&scoped=true&\"\nimport script from \"./Cate.vue?vue&type=script&lang=js&\"\nexport * from \"./Cate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cate.vue?vue&type=style&index=0&id=268c0dbe&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"268c0dbe\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","path","_v","staticClass","on","addClassify","cateListData","columns","scopedSlots","_u","key","fn","scope","row","cat_deleted","staticStyle","cat_level","$event","editCate","cat_id","deleteCate","queryInfo","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","addDialog","addDialogClosed","ref","addClassifyForm","addClassifyrules","model","value","cat_name","callback","$$v","$set","expression","parentCateList","parentCateListProps","handleChange","selectedKeys","slot","confirmAddCate","setDialog","setClassifyForm","setClassifyRules","confirmSetCate","staticRenderFns","props","data","type","label","prop","minWidth","template","cat_pid","required","message","trigger","expandTrigger","children","checkStrictly","methods","result","$axios","get","params","meta","status","$message","error","getParentCateList","newSize","getCateListData","newNum","$refs","addClassifyRef","resetFields","length","validate","valid","post","success","cateId","setClassifyRef","put","confirmResult","$confirm","confirmButtonText","cancelButtonText","catch","delete","mounted","components","component"],"sourceRoot":""}